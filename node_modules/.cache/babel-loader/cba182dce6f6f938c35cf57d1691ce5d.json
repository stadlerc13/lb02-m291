{"remainingRequest":"C:\\Users\\chant\\Documents\\BZZ\\BS-Module\\Informatik\\M291\\M291_Code-main2\\M291_Code-main\\node_modules\\babel-loader\\lib\\index.js!C:\\Users\\chant\\Documents\\BZZ\\BS-Module\\Informatik\\M291\\M291_Code-main2\\M291_Code-main\\09a_Client+Server\\02_Exercises\\client\\src\\store\\03_webshop-1.js","dependencies":[{"path":"C:\\Users\\chant\\Documents\\BZZ\\BS-Module\\Informatik\\M291\\M291_Code-main2\\M291_Code-main\\09a_Client+Server\\02_Exercises\\client\\src\\store\\03_webshop-1.js","mtime":1654076355361},{"path":"C:\\Users\\chant\\Documents\\BZZ\\BS-Module\\Informatik\\M291\\M291_Code-main2\\M291_Code-main\\babel.config.js","mtime":1652864898955},{"path":"C:\\Users\\chant\\Documents\\BZZ\\BS-Module\\Informatik\\M291\\M291_Code-main2\\M291_Code-main\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1644401621755},{"path":"C:\\Users\\chant\\Documents\\BZZ\\BS-Module\\Informatik\\M291\\M291_Code-main2\\M291_Code-main\\node_modules\\babel-loader\\lib\\index.js","mtime":1652865795466}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC1pbmRleC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyI7CmltcG9ydCBWdWUgZnJvbSAndnVlJzsKaW1wb3J0IFZ1ZXggZnJvbSAndnVleCc7ClZ1ZS51c2UoVnVleCk7CnZhciBiYXNlVVJMID0gImh0dHA6Ly9sb2NhbGhvc3Q6MzAwMC8iOwpleHBvcnQgZGVmYXVsdCBuZXcgVnVleC5TdG9yZSh7CiAgc3RhdGU6IHsKICAgIHByb2R1Y3RzOiBbXSwKICAgIGNhcnQ6IFtdCiAgfSwKICBnZXR0ZXJzOiB7CiAgICAvKioKICAgICAqIGh0dHBzOi8vdGhlY29kZWJhcmJhcmlhbi5jb20vamF2YXNjcmlwdC1yZWR1Y2UtaW4tNS1leGFtcGxlcy5odG1sCiAgICAgKiBAcGFyYW0gc3RhdGUKICAgICAqIEByZXR1cm5zIHsqfQogICAgICovCiAgICBjYXJ0VG90YWw6IGZ1bmN0aW9uIGNhcnRUb3RhbChzdGF0ZSkgewogICAgICByZXR1cm4gc3RhdGUuY2FydC5yZWR1Y2UoZnVuY3Rpb24gKHRvdGFsLCBpdGVtKSB7CiAgICAgICAgdmFyIHByb2R1Y3QgPSBzdGF0ZS5wcm9kdWN0cy5maW5kKGZ1bmN0aW9uIChwKSB7CiAgICAgICAgICByZXR1cm4gcC5uYW1lID09PSBpdGVtLm5hbWU7CiAgICAgICAgfSk7IC8vPz8KCiAgICAgICAgcmV0dXJuIHRvdGFsICsgcHJvZHVjdC5wcmljZSAqIGl0ZW0ucXVhbnRpdHk7CiAgICAgIH0sIDApOwogICAgfQogIH0sCiAgbXV0YXRpb25zOiB7CiAgICBzZXRQcm9kdWN0czogZnVuY3Rpb24gc2V0UHJvZHVjdHMoc3RhdGUsIHByb2R1Y3RzKSB7CiAgICAgIHN0YXRlLnByb2R1Y3RzID0gcHJvZHVjdHM7CiAgICB9LAogICAgYWRkVG9DYXJ0OiBmdW5jdGlvbiBhZGRUb0NhcnQoc3RhdGUsIHByb2R1Y3QpIHsKICAgICAgdmFyIGluZGV4ID0gc3RhdGUuY2FydC5maW5kSW5kZXgoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcC5uYW1lID09PSBwcm9kdWN0Lm5hbWU7CiAgICAgIH0pOwoKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIHN0YXRlLmNhcnRbaW5kZXhdLnF1YW50aXR5Kys7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgc3RhdGUuY2FydC5wdXNoKHsKICAgICAgICAgIG5hbWU6IHByb2R1Y3QubmFtZSwKICAgICAgICAgIHF1YW50aXR5OiAxCiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICByZW1vdmVGcm9tQ2FydDogZnVuY3Rpb24gcmVtb3ZlRnJvbUNhcnQoc3RhdGUsIHByb2R1Y3QpIHsKICAgICAgdmFyIGluZGV4ID0gc3RhdGUuY2FydC5maW5kSW5kZXgoZnVuY3Rpb24gKHApIHsKICAgICAgICByZXR1cm4gcC5uYW1lID09PSBwcm9kdWN0Lm5hbWU7CiAgICAgIH0pOwoKICAgICAgaWYgKGluZGV4ICE9PSAtMSkgewogICAgICAgIHN0YXRlLmNhcnRbaW5kZXhdLnF1YW50aXR5LS07CiAgICAgICAgaWYgKHN0YXRlLmNhcnRbaW5kZXhdLnF1YW50aXR5ID09PSAwKSBzdGF0ZS5jYXJ0LnNwbGljZShpbmRleCwgMSk7CiAgICAgIH0KICAgIH0KICB9LAogIGFjdGlvbnM6IHsKICAgIGxvYWRQcm9kdWN0czogZnVuY3Rpb24gbG9hZFByb2R1Y3RzKGNvbnRleHQpIHsKICAgICAgLy8/PwogICAgICBmZXRjaChiYXNlVVJMICsgInYxL3Byb2R1Y3RzIikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgLy9jb25zb2xlLmxvZyhyZXMuanNvbigpKTsKICAgICAgICByZXR1cm4gcmVzLmpzb24oKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIC8vY29uc29sZS5sb2coZGF0YSk7CiAgICAgICAgY29udGV4dC5jb21taXQoJ3NldFByb2R1Y3RzJywgZGF0YSk7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnJvcikgewogICAgICAgIGNvbnNvbGUuZXJyb3IoZXJyb3IpOwogICAgICB9KTsKICAgIH0KICB9Cn0pOw=="},{"version":3,"names":["Vue","Vuex","use","baseURL","Store","state","products","cart","getters","cartTotal","reduce","total","item","product","find","p","name","price","quantity","mutations","setProducts","addToCart","index","findIndex","push","removeFromCart","splice","actions","loadProducts","context","fetch","then","res","json","data","commit","catch","error","console"],"sources":["C:/Users/chant/Documents/BZZ/BS-Module/Informatik/M291/M291_Code-main2/M291_Code-main/09a_Client+Server/02_Exercises/client/src/store/03_webshop-1.js"],"sourcesContent":["import Vue from 'vue'\nimport Vuex from 'vuex'\nVue.use(Vuex)\nconst baseURL = \"http://localhost:3000/\";\nexport default new Vuex.Store({\n  state: {\n    products: [],\n    cart: []\n  },\n  getters: {\n    /**\n     * https://thecodebarbarian.com/javascript-reduce-in-5-examples.html\n     * @param state\n     * @returns {*}\n     */\n    cartTotal(state) {\n      return state.cart.reduce((total, item) => {\n        let product = state.products.find(p => p.name === item.name);\n        //??\n        return total + (product.price * item.quantity);\n      }, 0);\n    }\n  },\n  mutations: {\n    setProducts(state, products) {\n      state.products = products;\n    },\n    addToCart(state, product) {\n      let index = state.cart.findIndex(p => p.name === product.name);\n      if (index !== -1) {\n        state.cart[index].quantity++;\n      } else {\n        state.cart.push({name: product.name, quantity: 1});\n      }\n    },\n    removeFromCart(state, product) {\n      let index = state.cart.findIndex(p => p.name === product.name);\n      if (index !== -1) {\n        state.cart[index].quantity--;\n        if (state.cart[index].quantity === 0) state.cart.splice(index, 1);\n      }\n    }\n  },\n  actions: {\n    loadProducts(context) {\n      //??\n      fetch(baseURL + \"v1/products\")\n          .then((res) => {\n            //console.log(res.json());\n            return res.json();\n          })\n          .then((data) => {\n            //console.log(data);\n            context.commit('setProducts', data);\n          }).catch(error => {\n        console.error(error);\n      });\n    }\n  },\n\n})\n"],"mappings":";;;;;AAAA,OAAOA,GAAP,MAAgB,KAAhB;AACA,OAAOC,IAAP,MAAiB,MAAjB;AACAD,GAAG,CAACE,GAAJ,CAAQD,IAAR;AACA,IAAME,OAAO,GAAG,wBAAhB;AACA,eAAe,IAAIF,IAAI,CAACG,KAAT,CAAe;EAC5BC,KAAK,EAAE;IACLC,QAAQ,EAAE,EADL;IAELC,IAAI,EAAE;EAFD,CADqB;EAK5BC,OAAO,EAAE;IACP;AACJ;AACA;AACA;AACA;IACIC,SANO,qBAMGJ,KANH,EAMU;MACf,OAAOA,KAAK,CAACE,IAAN,CAAWG,MAAX,CAAkB,UAACC,KAAD,EAAQC,IAAR,EAAiB;QACxC,IAAIC,OAAO,GAAGR,KAAK,CAACC,QAAN,CAAeQ,IAAf,CAAoB,UAAAC,CAAC;UAAA,OAAIA,CAAC,CAACC,IAAF,KAAWJ,IAAI,CAACI,IAApB;QAAA,CAArB,CAAd,CADwC,CAExC;;QACA,OAAOL,KAAK,GAAIE,OAAO,CAACI,KAAR,GAAgBL,IAAI,CAACM,QAArC;MACD,CAJM,EAIJ,CAJI,CAAP;IAKD;EAZM,CALmB;EAmB5BC,SAAS,EAAE;IACTC,WADS,uBACGf,KADH,EACUC,QADV,EACoB;MAC3BD,KAAK,CAACC,QAAN,GAAiBA,QAAjB;IACD,CAHQ;IAITe,SAJS,qBAIChB,KAJD,EAIQQ,OAJR,EAIiB;MACxB,IAAIS,KAAK,GAAGjB,KAAK,CAACE,IAAN,CAAWgB,SAAX,CAAqB,UAAAR,CAAC;QAAA,OAAIA,CAAC,CAACC,IAAF,KAAWH,OAAO,CAACG,IAAvB;MAAA,CAAtB,CAAZ;;MACA,IAAIM,KAAK,KAAK,CAAC,CAAf,EAAkB;QAChBjB,KAAK,CAACE,IAAN,CAAWe,KAAX,EAAkBJ,QAAlB;MACD,CAFD,MAEO;QACLb,KAAK,CAACE,IAAN,CAAWiB,IAAX,CAAgB;UAACR,IAAI,EAAEH,OAAO,CAACG,IAAf;UAAqBE,QAAQ,EAAE;QAA/B,CAAhB;MACD;IACF,CAXQ;IAYTO,cAZS,0BAYMpB,KAZN,EAYaQ,OAZb,EAYsB;MAC7B,IAAIS,KAAK,GAAGjB,KAAK,CAACE,IAAN,CAAWgB,SAAX,CAAqB,UAAAR,CAAC;QAAA,OAAIA,CAAC,CAACC,IAAF,KAAWH,OAAO,CAACG,IAAvB;MAAA,CAAtB,CAAZ;;MACA,IAAIM,KAAK,KAAK,CAAC,CAAf,EAAkB;QAChBjB,KAAK,CAACE,IAAN,CAAWe,KAAX,EAAkBJ,QAAlB;QACA,IAAIb,KAAK,CAACE,IAAN,CAAWe,KAAX,EAAkBJ,QAAlB,KAA+B,CAAnC,EAAsCb,KAAK,CAACE,IAAN,CAAWmB,MAAX,CAAkBJ,KAAlB,EAAyB,CAAzB;MACvC;IACF;EAlBQ,CAnBiB;EAuC5BK,OAAO,EAAE;IACPC,YADO,wBACMC,OADN,EACe;MACpB;MACAC,KAAK,CAAC3B,OAAO,GAAG,aAAX,CAAL,CACK4B,IADL,CACU,UAACC,GAAD,EAAS;QACb;QACA,OAAOA,GAAG,CAACC,IAAJ,EAAP;MACD,CAJL,EAKKF,IALL,CAKU,UAACG,IAAD,EAAU;QACd;QACAL,OAAO,CAACM,MAAR,CAAe,aAAf,EAA8BD,IAA9B;MACD,CARL,EAQOE,KARP,CAQa,UAAAC,KAAK,EAAI;QACpBC,OAAO,CAACD,KAAR,CAAcA,KAAd;MACD,CAVD;IAWD;EAdM;AAvCmB,CAAf,CAAf"}]}